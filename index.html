<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- required for bootstrap5 to work properly -->

    <link rel="icon" type="image/x-icon" href="./assets/logo.png" />
    <title>Let's Encrypt</title>
    <!-- ! Primary Meta Tags -->
    <meta name="title" content="Let's Encrypt" />
    <meta name="description"
        content="Free and user-friendly web application to encrypt and decrypt files using a password of your choice. Whether you need to protect sensitive data or secure your personal files, this app provides a convenient solution." />

    <!--! Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://encrypt.tn/" />
    <meta property="og:title" content="Let's encrypt" />
    <meta property="og:description"
        content="Free and user-friendly web application to encrypt and decrypt files using a password of your choice. Whether you need to protect sensitive data or secure your personal files, this app provides a convenient solution." />
    <meta property="og:image" content="https://i.ibb.co/NVV4b0P/og2.jpg" />
    <meta property="og:image:url" content="https://i.ibb.co/NVV4b0P/og2.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:secure_url" content="https://i.ibb.co/NVV4b0P/og2.jpg" />

    <!-- ! Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://encrypt.tn/" />
    <meta property="twitter:title" content="Let's encrypt" />
    <meta property="twitter:description"
        content="Free and user-friendly web application to encrypt and decrypt files using a password of your choice. Whether you need to protect sensitive data or secure your personal files, this app provides a convenient solution." />
    <meta property="twitter:image" content="https://i.ibb.co/NVV4b0P/og2.jpg" />
    <!-- ! end of meta  -->

    <!-- ! SEO stuff -->
    <!-- ! end of SEO stuff -->

    <!-- css imports  -->
    <link rel="stylesheet" href="style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
    <!-- importing bootstrap5 online bsh ykhdem mnghir mansobou -->

    <!-- Linking the javascript code 
    (no, it's deferred,loading is delayed until the loading of the body)-->
    <script defer src="app.js"></script>
</head>

<body>
    <div class="container py-4 d-flex flex-column">
        <!--! Header  -->
        <header class="pb-3 mb-4">
            <a href="#" class="d-flex align-items-center text-dark text-decoration-none ps-0 ps-md-4">
                <img src="./assets/logo_full.png" alt="" style="height: auto; width: 20em" />
            </a>
        </header>
        <main>
            <div class="custom-color-shade px-1 px-md-5 mb-4 rounded-4 w-100 d-flex flex-column">
                <div class="container-fluid pt-5">
                    <p class="col-md-8 h5 fw-semibold">Just drag & drop!</p>
                    <h1 class="display-4 fw-light fst-italic">
                        Online file encryption & decryption.
                    </h1>
                </div>
                <!-- decrypt encrypt toggle  -->
                <div class="d-flex align-self-lg-end align-self-center my-4">
                    <button id="btnDivEncrypt" class="btn btn-outline-dark" onClick="javascript:switchdiv('encrypt');"
                        style="border-radius: 10px 0 0 10px">
                        Encrypt
                    </button>
                    <!-- <button id="btnDivHash" class="btn btn-outline-dark" onClick="javascript:switchdiv('hash');"
            style="border-radius: 0 10px 10px 0">
            Hash
          </button> -->
                    <button id="btnDivDecrypt" class="btn btn-outline-dark" onClick="javascript:switchdiv('decrypt');"
                        style="border-radius: 0 10px 10px 0">
                        Decrypt
                    </button>
                </div>
            </div>
            <!-- !ENCRYPT  -->
            <div class="row align-items-md-stretch" id="divEncryptfile">
                <!-- !col 1  -->
                <div class="col-md-6 mb-2">
                    <div class="h-100 p-5 text-bg-dark rounded-4">
                        <!-- the dropzone -->
                        <div class="dropzone p-3 p-md-5" id="encdropzone" ondrop="drop_handler(event);"
                            ondragover="dragover_handler(event);" ondragend="dragend_handler(event);">
                            <p>
                                Drag and drop the file to be encrypted into this dropzone, or
                                click
                                <a onclick="javascript:encfileElem.click();">here</a> to
                                select file.
                            </p>
                            <p>
                                <span id="spnencfilename" style="font-style: italic; font-weight: 100">file name will
                                    appear here</span>
                            </p>
                            <div class="w-100 d-flex justify-content-center">
                                <lottie-player src="https://assets4.lottiefiles.com/packages/lf20_tijj0wnj.json"
                                    background="transparent" speed="1"
                                    style="max-width: 100%; width: 180px; height: 100%" loop autoplay></lottie-player>
                                <!-- Lottie is an animations library, we imported the animation -->

                            </div>
                        </div>
                        <input type="file" id="encfileElem" style="display: none" onchange="selectfile(this.files)" />
                    </div>
                </div>
                <!-- !col 2 -->
                <div class="col-md-6">
                    <div class="h-100 p-5 bg-body-tertiary border rounded-4 d-flex flex flex-column gap-3">
                        <div>
                            <div class="form-label">Password</div>

                            <input id="txtEncpassphrase" type="password" size="30" onkeyup="javascript:encvalidate();"
                                value="" class="form-control" />

                            <div class="form-text">minumum length two characters</div>
                        </div>

                        <div>
                            <div class="form-label">Confirm password</div>

                            <input id="txtEncpassphraseretype" type="password" size="30"
                                onkeyup="javascript:encvalidate();" value="" class="form-control" />
                        </div>

                        <div class="">
                            <!-- button  -->


                            <button id="btnEncrypt" onclick="javascript:encryptfile();"
                                class="btn btn-primary w-100 desaturate" disabled>
                                Encrypt File
                            </button>


                            <span class="greenspan px-2" id="spnCheckretype"></span>
                        </div>
                        <span id="spnEncstatus"></span>

                        <a id="aEncsavefile" hidden><button class="btn btn-primary w-100 desaturate">
                                Save Encrypted File
                            </button></a>
                        <button id="computeHash" onclick="showHash()" class="btn btn-primary desaturate" hidden>
                            Compute hash
                        </button>
                        <textarea id="elhash" cols="30" rows="4" hidden></textarea>
                    </div>
                </div>
            </div>

            <!-- !DECRYPT  -->
            <div class="row align-items-md-stretch" id="divDecryptfile">
                <!-- !col 1  -->
                <div class="col-md-6 mb-2">
                    <div class="h-100 p-5 text-bg-dark rounded-4">
                        <!-- the dropzone   -->
                        <div>
                            <div class="dropzone p-3 p-md-5" id="decdropzone" ondrop="drop_handler(event);"
                                ondragover="dragover_handler(event);" ondragend="dragend_handler(event);">
                                <p>
                                    Drag and drop the file to be decrypted into this dropzone,
                                    or click
                                    <a role="button" onclick="javascript:decfileElem.click();">here</a>
                                    to select file.
                                </p>
                                <p>
                                    <span id="spndecfilename" style="font-style: italic; font-weight: 100">file name
                                        will appear
                                        here</span>
                                </p>
                                <div class="w-100 d-flex justify-content-center">
                                    <lottie-player src="https://assets4.lottiefiles.com/packages/lf20_tijj0wnj.json"
                                        background="transparent" speed="1"
                                        style="max-width: 100%; width: 180px; height: 100%" loop
                                        autoplay></lottie-player>
                                </div>
                            </div>
                            <input type="file" id="decfileElem" style="display: none"
                                onchange="selectfile(this.files)" />
                        </div>
                    </div>
                </div>
                <!-- !col 2 -->
                <div class="col-md-6">
                    <div class="h-100 p-5 bg-body-tertiary border rounded-4 d-flex flex-column gap-3">
                        <div class="">
                            <div class="form-label">Password</div>
                            <input id="txtDecpassphrase" type="password" class="form-control" size="30"
                                onkeyup="javascript:decvalidate();" value="" />
                        </div>

                        <button id="btnDecrypt" onclick="javascript:decryptfile();" class="btn btn-primary desaturate"
                            disabled>
                            Decrypt File
                        </button>
                        <span id="spnDecstatus"></span>
                        <a id="aDecsavefile" hidden><button class="btn btn-primary desaturate w-100 ">
                                Save Decrypted File
                            </button></a>
                        <button id="computeHashD" onclick="showHashD()" class="btn btn-primary desaturate" hidden>
                            Compute hash
                        </button>
                        <textarea id="elhashD" cols="30" rows="4" hidden></textarea>
                    </div>
                </div>
            </div>


        </main>
        <footer class="pt-3 mt-4 text-body-secondary d-inline">
            © 2023 Let's Encrypt | by
            Dorra👋
        </footer>
    </div>
    <!-- lottie import  -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</body>

</html>